<div class="ms-Grid">
  <div class="ms-Grid-row">
    <div class="ms-Grid-col ms-sm12 ms-md4">
    </div>
    <div class="ms-Grid-col ms-sm12 ms-md4">
      <div class="ms-Grid-row ms-textAlignCenter pt-5 companyname">
        <app-header></app-header>
      </div>

      <div class="ms-Grid-row ms-textAlignCenter pt-2">
        <img *ngIf="loading" class="loadingimage" src="../../../assets/loading.gif">
      </div>

      <div class="ms-Grid-row ms-textAlignCenter pt-2 pb-4 consent-title">
        <span *ngIf="days>=0">{{"These files will be available for" | translate}} {{days}}
          {{"more days." | translate}}</span>
        <span *ngIf="days<1">{{"These files were deleted." | translate}}</span>
      </div>

      <div *ngFor="let item of files" class="ms-Grid-row pt-4">
        <span>{{item.name}}</span>
        <span class="float-right">
          <button type="button" class="ms-Button ms-Button--small" (click)="OpenViewDialog(item)">
            <span class="ms-Button-label">{{"view" | translate}}</span>
          </button>
          <!-- <a style="text-decoration: none;cursor: pointer;" target="_blank" href="{{item.fileUrl}}" title="">
            <span style="background-color: #0078d7;color: white;height: 32px;min-width: 80px;padding: 1px 10px 2px;">View</span>
          </a> -->
        </span>
      </div>

      <div class="ms-Grid-row pt-4 pb-4">
        <a (click)="downloadpermission()" class="ms-Link permissionlink" title="Click for more info">
          {{"Request permission to download files" | translate}}
        </a>
      </div>
      <div class="ms-Grid-row pt-4 pb-4">
        <app-safety-signature></app-safety-signature>
      </div>
    </div>
    <div class="ms-Grid-col ms-sm12 ms-md4">
    </div>
  </div>
</div>

<div class="viewfileDialog">
  <div class="ms-Dialog ms-Dialog--blocking" style="max-width:100% !important;padding:5px;">
    <div class="ms-Dialog-title" style="margin-bottom:5px;font-size:1em;">
      <span>{{"View File" | translate}}</span>
      <i style="float:right; cursor:pointer;margin:2px;" (click)="CloseViewDialog()"
        class="ms-Icon ms-Icon--Cancel"></i>
      <i style="float:right; cursor:pointer;margin:2px;" (click)="toggleDialogScreen()"
        class="ms-Icon ms-Icon--FullScreen"></i>
    </div>
    <img class="docviewer-progress loadingimage" src="../../../assets/loading.gif">
    <iframe [src]="viewFileUrl" (load)="iframeLoaded()" class="pdfviewer screen-normal" [class]="viewerClass"></iframe>
    <!-- <img [src]="viewFileUrl" class="imgviewer" width="900px" height="550px"/>-->
  </div>
</div>